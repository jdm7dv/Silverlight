<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>Clipping Update test</title>
<meta></meta>
</head>
<body>

<script type="text/javascript">
var control = null;
var content = null;
var logger = null;

function Log (color, text)
{
  var run = content.createFromXaml ("<Run Foreground='" + color + "'/>");
  var eoln = content.createFromXaml ("<LineBreak/>");

  run.text = text;
  logger.inlines.add (run);
  logger.inlines.add (eoln);
}

function OnLoaded (sender, eventArgs)
{
  control = document.getElementById ("agControl");
  content = control.content;

  logger = sender.findName ("Log");

  logger.text = "some text";
  logger.text = null;
  if (logger.text == "")
    Log ("green", "Setting TextBlock.Text to null results in String.Empty");
  else
    Log ("red", "Setting TextBlock.Text to null results in null");

  var glyphs = content.createFromXaml ("<Glyphs />");
  glyphs.indices = "some text";
  glyphs.indices = null;
  if (glyphs.indices == "")
    Log ("green", "Setting Glyphs.Indices to null results in String.Empty");
  else
    Log ("red", "Setting Glyphs.Indices to null results in null");

  glyphs.unicodeString = "some text";
  glyphs.unicodeString = null;
  if (glyphs.unicodeString == "")
    Log ("green", "Setting Glyphs.UnicodeString to null results in String.Empty");
  else
    Log ("red", "Setting Glyphs.UnicodeString to null results in null");

  var textbox = content.createFromXaml ("<TextBox />");
  textbox.text = "some text";
  textbox.text = null;
  if (textbox.text == "")
    Log ("green", "Setting TextBox.Text to null results in String.Empty");
  else
    Log ("red", "Setting TextBox.Text to null results in null");

  var videobrush = content.createFromXaml ("<VideoBrush />");
  videobrush.sourceName = "some text";
  videobrush.sourceName = null;
  if (videobrush.sourceName == "")
    Log ("green", "Setting VideoBrush.SourceName to null results in String.Empty");
  else
    Log ("red", "Setting VideoBrush.SourceName to null results in null");

  //var hyperlink = content.createFromXaml ("<HyperlinkButton />");
  //hyperlink.targetName = "some text";
  //hyperlink.targetName = null;
  //if (hyperlink.targetName == "")
  //  Log ("green", "Setting HyperlinkButton.TargetName to null results in String.Empty");
  //else
  //  Log ("red", "Setting HyperlinkButton.TargetName to null results in null");

  //var items = content.createFromXaml ("<ItemsControl />");
  //items.displayMemberPath = "some text";
  //items.displayMemberPath = null;
  //if (items.displayMemberPath == "")
  //  Log ("green", "Setting ItemsControl.DisplayMemberPath to null results in String.Empty");
  //else
  //  Log ("red", "Setting ItemsControl.DisplayMemberPath to null results in null");

  var marker = content.createFromXaml ("<TimelineMarker />");
  marker.text = "some text";
  marker.text = null;
  if (marker.text == "")
    Log ("green", "Setting TimelineMarker.Text to null results in String.Empty");
  else
    Log ("red", "Setting TimelineMarker.Text to null results in null");

  marker.type = "some text";
  marker.type = null;
  if (marker.type == "")
    Log ("green", "Setting TimelineMarker.Type to null results in String.Empty");
  else
    Log ("red", "Setting TimelineMarker.Type to null results in null");

  //var radio = content.createFromXaml ("<RadioButton />");
  //radio.groupName = "some text";
  //radio.groupName = null;
  //if (radio.groupName == "")
  //  Log ("green", "Setting RadioButton.GroupName to null results in String.Empty");
  //else
  //  Log ("red", "Setting RadioButton.GroupName to null results in null");
}
</script>

<object type="application/x-silverlight" data="data:," id="agControl" width="100%" height="100%">
<param name="background" value="#FFFFFF"/>
<param name="source" value="#xamlContent"/>
</object>

<script type="text/xaml" id="xamlContent">
<?xml version="1.0"?>
<Canvas xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Loaded="OnLoaded">
  <TextBlock Canvas.Left="5" Canvas.Top="5" x:Name="Log"/>
</Canvas>
</script>

</body>
</html>
